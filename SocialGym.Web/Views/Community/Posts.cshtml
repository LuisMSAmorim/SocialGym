@model IEnumerable<SocialGym.BLL.ViewModels.PostViewModel>

@{
    ViewData["Title"] = "Posts";
}

<h1>Postagens</h1>

@if(ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger" role="alert">
        @ViewBag.ErrorMessage
    </div>
}
else
{
    @foreach (var item in Model) {

        <div class="card mb-3">
            <h2 class="card-text">@Html.DisplayFor(modelItem => item.CommunityParticipantUserName)</h2>
            @if(item.ImageUrl != null)
            {
                <img class="card-img-top" src="@Html.DisplayFor(modelItem => item.ImageUrl)" alt="Post image">
            }
            <div class="card-body">
            <h5 class="card-title">@Html.DisplayFor(modelItem => item.Title)</h5>
            <p class="card-text">@Html.DisplayFor(modelItem => item.Text)</p>
            <p class="card-text"><small class="text-muted">Postado em: @Html.DisplayFor(modelItem => item.CreatedAt)</small></p>
            </div>
        </div>
    }    
}
